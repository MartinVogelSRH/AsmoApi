<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title></title>

        <!-- Bootstrap -->
        <link rel="stylesheet" href="../static/vendor/bootstrap.min.css">
        <link rel="stylesheet" href="../static/vendor/font-awesome.min.css">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script> <![endif]-->
    </head>
    <body>
        <br>
        <iframe src="" name="toDisplay" hidden="true"></iframe>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <ul class="nav nav-pills">
                        <li class="">
                            <a href="index.html">Home</a>
                        </li>
                        <li class="">
                            <a href="camera.html">Kamera</a>
                        </li>
                        <li class="active">
                            <a href="remote.html">Fernbedienung</a>
                        </li>
                        <li class="">
                            <a href="ultraRemote.html">Speziell</a>
                        </li>
                        <li class="">
                            <a href="terminal.html">Terminal</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <br>
        <div class="container" id="remotelist">
            <!-- <form id="remote" method="POST" action="http://10.0.0.1/remote/command" target="toDisplay">
                <input type="text" name="command" value="KEY_POWER" hidden="true">
                <input type="text" name="remote" value="test" hidden="true">
                <input type="submit" name="" value="Test Fernbedienung" class="btn btn-default center-block">
            </form> -->
        </div>

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="../static/vendor/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="../static/vendor/bootstrap.min.js"></script>

        <script type="text/javascript">
            $$
                .get('http://' + document.location.host + '/api/remote', function(remotes) {
                    var remoteNames = Object.keys(remotes);

                    for (var i = 0; i < remoteNames.length; i++) {
                        $('#remotelist').append('<h3 class="text-center">' + remoteNames[i] + '</h3>')
                        for (var j = 0; j < remotes[remoteNames[i]].length; j++) {
                            var command = remotes[remoteNames[i]][j];
                            var baseForm = '<form method="POST" action="http://' + window.location.host + '/api/remote/command" target="toDisplay">';
                            baseForm += '<input type="text" name="remote" value="' + remoteNames[i] + '" hidden="true">'
                            baseForm += '<input type="text" name="command" value="' + command + '" hidden="true">';
                            baseForm += '<input type="submit" name="" value="' + command + '" class="btn btn-default center-block"></form><br>'
                            $('#remotelist').append(baseForm);
                        }

                    }
                });

        </script>
    </body>
</html>
